generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ================================================
// Enum
// ================================================

enum Level {
  N1
  N2
  N3
  N4
  N5
}

// ================================================
// Model
// ================================================

model User{
  id           Int @id @default(autoincrement()) @map("id")

  email        String @unique
  name         String
  password     String
  role         Int @default(1) // 1: USER, 10: ADMIN
  createdAt    DateTime @default(now()) @map("created_at")
  updatedAt    DateTime @updatedAt @map("updated_at")

  userProgress UserProgress? 

  @@map("user")
}

model UserProgress{
  id Int @id @default(autoincrement())

  currentGrade Int @default(9) @map("current_grade")
  exp          Int @default(0)
  isMaster     Boolean @default(false) @map("is_master")

  userId       Int @unique @map("user_id")
  user         User @relation(fields: [userId], references: [id])

  @@map("user_progress")
}

model Word{
  id             Int @id @default(autoincrement())
  word           String @unique
  wordKana       String @map("word_kana")
  wordMeaning    String @map("word_meaning")
  example        String 
  exampleKana    String @map("example_kana")
  exampleMeaning String @map("example_meaning")
  level          Level

  @@map("word")
}
